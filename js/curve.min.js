/*	Curve extension for canvas 2.1.1
 *	Epistemex (c) 2013-2014
 *	License: MIT
*/
CanvasRenderingContext2D.prototype.curve=function(g,q,e,b){q=(typeof q==="number")?q:0.5;e=e?e:20;var h,j=[],d=g.length,c,a=[];h=g.slice(0);if(b){h.unshift(g[d-1]);h.unshift(g[d-2]);h.push(g[0],g[1])}else{h.unshift(g[1]);h.unshift(g[0]);h.push(g[d-2],g[d-1])}a.push([1,0,0,0]);for(c=1;c<e;c++){var k=c/e,m=k*k,o=m*k,n=o*2,p=m*3;a.push([n-p+1,p-n,o-2*m+k,o-m])}a.push([0,1,0,0]);f(h,a,d);if(b){h=[];h.push(g[d-4],g[d-3],g[d-2],g[d-1]);h.push(g[0],g[1],g[2],g[3]);f(h,a,4)}function f(A,s,v){for(var u=2;u<v;u+=2){var w=A[u],x=A[u+1],y=A[u+2],z=A[u+3],C=(y-A[u-2])*q,D=(z-A[u-1])*q,E=(A[u+4]-w)*q,F=(A[u+5]-x)*q;for(var B=0;B<=e;B++){var r=s[B];j.push(r[0]*w+r[1]*y+r[2]*C+r[3]*E,r[0]*x+r[1]*z+r[2]*D+r[3]*F)}}}for(c=0,d=j.length;c<d;c+=2){this.lineTo(j[c],j[c+1])}console.log(j);return j};